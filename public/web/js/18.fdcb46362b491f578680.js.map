{"version":3,"sources":["webpack:///./src/api/data-api.js","webpack:///src/pages/personal/data.vue","webpack:///./src/pages/personal/data.vue?78ab","webpack:///./src/pages/personal/data.vue"],"names":["data_api","httpUtils","get","params","data","name","imageUrl","username","radio","avatar","created","this","getData","methods","_this2","getUserData","then","console","log","sex","chooseImg","e","file","target","files","imgSize","size","_this","reader","FileReader","readAsDataURL","onloadend","dataURL","result","getUploadImg","type","$message","error","getKeep","_this3","changeData","$router","push","components","PersonalMenu","PersonalHeader","personal_data","render","_vm","_h","$createElement","_c","_self","_v","staticClass","attrs","currentMenu","_m","src","accept","on","change","directives","rawName","value","expression","placeholder","domProps","input","$event","composing","label","model","callback","$$v","_s","phone","addtime","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"web/js/18.fdcb46362b491f578680.js","sourcesContent":["/**\n * 引入fetch、baseUrl\n * @param params\n * @returns {*}\n */\nimport httpUtils from 'config/index'\n\nclass dataService {\n  getUserData(){\n    return httpUtils.get(\"/index/user/user_center\");\n  }\n  getUploadImg(params){\n    return httpUtils.get(\"/index/user/upload_image\",params);\n  }\n  changeData(params){\n    return httpUtils.get(\"/index/user/change_user_data\",params);\n  }\n}\nexport default new dataService()\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/data-api.js","<template>\n  <div>\n    <PersonalHeader></PersonalHeader>\n    <div class=\"centerBg\">\n      <div class=\"wrapper clearfix\">\n        <div class=\"centerLeft\">\n          <PersonalMenu class=\"fl\" currentMenu=\"8\"></PersonalMenu>\n        </div>\n        <div class=\"centerRight\">\n          <div class=\"centerTitle\">\n            <ul>\n              <li class=\"active\">资料设置</li>\n            </ul>\n          </div>\n          <div class=\"centerContent\">\n            <div class=\"row\">\n              <label class=\"title\">当前头像</label>\n              <div class=\"txBox\">\n                <img v-if=\"imageUrl\" class=\"avatar\" :src=\"imageUrl\" />\n                <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n                <input class=\"uploadBtn\" type=\"file\" name=\"image\" accept=\"image/*\" @change='chooseImg'>\n              </div>\n              <p class=\"clear\"></p>\n              <p class=\"beizhu\">*仅支持JPG、GIF、PNG、JPEG、BMP格式 , 文件小于2M</p>\n            </div>\n            <div class=\"row clearfix\">\n              <label class=\"title\">昵称</label>\n              <input class=\"textInp\" v-model=\"username\" type=\"text\" placeholder=\"请输入您的昵称\" value=\"data.username\">\n            </div>\n            <div class=\"row clearfix\">\n              <label class=\"title\">真实姓名</label>\n              <input class=\"textInp\" v-model=\"name\" type=\"text\" placeholder=\"请输入您的姓名\">\n            </div>\n            <div class=\"row clearfix\">\n              <label class=\"title\">性别</label>\n              <div class=\"sex\">\n                <template>\n                  <el-radio v-model=\"radio\" label=\"1\">男</el-radio>\n                  <el-radio v-model=\"radio\" label=\"0\">女</el-radio>\n                </template>\n              </div>\n            </div>\n            <div class=\"row clearfix\">\n              <label class=\"title\">账号ID</label>\n              <p class=\"desc\">{{data.phone}}</p>\n            </div>\n            <div class=\"row clearfix\">\n              <label class=\"title\">注册时间</label>\n              <p class=\"desc\">{{data.addtime}}</p>\n            </div>\n            <div class=\"keepBtn\" @click=\"getKeep\">保存</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import PersonalHeader from '@/components/PersonalHeader'\n  import PersonalMenu from '@/components/PersonalMenu'\n  import api from \"@/api/data-api\"\n  export default {\n    name: \"index.vue\",\n    data(){\n      return{\n        data: {},\n        imageUrl: '',\n        username:'',\n        name:'',\n        radio: '',\n        avatar:''\n      }\n    },\n    created(){\n      this.getData();\n    },\n    methods: {\n      getData(){\n        var _this = this\n        api.getUserData().then(data => {\n          this.data = data\n          console.log(data)\n          this.imageUrl = data.avatar;\n          this.username = data.username;\n          this.name = data.name;\n          this.radio = data.sex;\n          console.log(this.radio)\n        });\n      },\n      chooseImg (e) {\n        var file = e.target.files[0]\n        console.log(file)\n        let imgSize = file.size\n        console.log(imgSize)\n        var _this = this\n        if (imgSize <= 2 * 1024 * 1024) {\n          console.log('大小合适')\n          var reader = new FileReader();\n          reader.readAsDataURL(file); // 读出 base64\n          reader.onloadend = function () {\n            var dataURL = reader.result;\n            api.getUploadImg({type:0,file:dataURL}).then(data => {\n              _this.imageUrl = dataURL\n              _this.avatar = data\n            })\n          }\n        } else {\n          this.$message.error('上传头像图片大小不能超过 2MB!');\n        }\n      },\n      getKeep:function(){\n        const {avatar,username,name,radio} = this;\n        api.changeData({avatar,username,name,sex:radio}).then(data => {\n          this.$router.push(\"/data\");\n        })\n      },\n    },\n    components: {\n      PersonalMenu,\n      PersonalHeader\n    }\n  }\n</script>\n\n<style lang=\"less\" scoped>\n  .centerBg{\n    width: 100%;\n    height: auto;\n    padding: 20px 0 100px;\n    background: #F4F5FA;\n  }\n  .centerLeft{\n    float: left;\n    width: 230px;\n  }\n  .centerRight{\n    float: right;\n    width: 950px;\n    min-height: 610px;\n    background: #fff;\n    .centerTitle{\n      padding: 0 33px;\n      height: 60px;\n      border-bottom: 1px solid #E3E4E5;\n      ul{\n        li{\n          height: 58px;\n          line-height: 58px;\n          float: left;\n          color: #333;\n          font-size: 16px;\n          border-bottom: 2px solid #fff;\n        }\n        li.active{\n          border-bottom: 2px solid #4F74F4;\n        }\n      }\n    }\n    .centerContent{\n      padding: 35px 0 0;\n      .row{\n        margin-bottom: 15px;\n        .title{\n          float: left;\n          width: 100px;\n          line-height: 40px;\n          text-align: right;\n          margin-right: 15px;\n        }\n        .txBox{\n          float: left;\n          width: 94px;\n          height: 94px;\n          border: 1px solid #E3E4E5;\n          position: relative;\n          img{\n            display: block;\n            width: 94px;\n            height: 94px;\n          }\n          i{\n            color: #E1E3EB;\n          }\n          .uploadBtn{\n            width: 94px;\n            height: 94px;\n            position: absolute;\n            left: 0;\n            top: 0;\n            opacity: 0;\n          }\n        }\n        .beizhu{\n          font-size: 12px;\n          color: #999;\n          margin: 15px 0 34px;\n          padding-left: 117px;\n        }\n        .textInp{\n          width: 338px;\n          height: 38px;\n          line-height: 38px;\n          border: 1px solid #E3E4E5;\n          border-radius:2px;\n          text-indent: 15px;\n        }\n        .sex{\n          height: 40px;\n          line-height: 40px;\n        }\n        .desc{\n          float: left;\n          height: 40px;\n          line-height: 40px;\n          color: #000;\n        }\n      }\n      .keepBtn{\n        width: 120px;\n        height: 40px;\n        line-height: 40px;\n        text-align: center;\n        color: #fff;\n        background: -webkit-gradient(linear, 100% 0, 0 0, from(#579EFA), to(#4F74F4));\n        background: -webkit-linear-gradient(to bottom, #579EFA, #4F74F4);\n        background: -moz-linear-gradient(to bottom, #579EFA, #4F74F4);\n        background: -o-linear-gradient(to bottom, #579EFA, #4F74F4);\n        background: linear-gradient(to bottom, #579EFA, #4F74F4);\n        -webkit-border-radius: 2px;\n        -moz-border-radius: 2px;\n        border-radius: 2px;\n        margin: 30px 0 0 117px;\n      }\n\n    }\n  }\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/personal/data.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('PersonalHeader'),_vm._v(\" \"),_c('div',{staticClass:\"centerBg\"},[_c('div',{staticClass:\"wrapper clearfix\"},[_c('div',{staticClass:\"centerLeft\"},[_c('PersonalMenu',{staticClass:\"fl\",attrs:{\"currentMenu\":\"8\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"centerRight\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"centerContent\"},[_c('div',{staticClass:\"row\"},[_c('label',{staticClass:\"title\"},[_vm._v(\"当前头像\")]),_vm._v(\" \"),_c('div',{staticClass:\"txBox\"},[(_vm.imageUrl)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.imageUrl}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"}),_vm._v(\" \"),_c('input',{staticClass:\"uploadBtn\",attrs:{\"type\":\"file\",\"name\":\"image\",\"accept\":\"image/*\"},on:{\"change\":_vm.chooseImg}})]),_vm._v(\" \"),_c('p',{staticClass:\"clear\"}),_vm._v(\" \"),_c('p',{staticClass:\"beizhu\"},[_vm._v(\"*仅支持JPG、GIF、PNG、JPEG、BMP格式 , 文件小于2M\")])]),_vm._v(\" \"),_c('div',{staticClass:\"row clearfix\"},[_c('label',{staticClass:\"title\"},[_vm._v(\"昵称\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.username),expression:\"username\"}],staticClass:\"textInp\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入您的昵称\",\"value\":\"data.username\"},domProps:{\"value\":(_vm.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.username=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"row clearfix\"},[_c('label',{staticClass:\"title\"},[_vm._v(\"真实姓名\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],staticClass:\"textInp\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入您的姓名\"},domProps:{\"value\":(_vm.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.name=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"row clearfix\"},[_c('label',{staticClass:\"title\"},[_vm._v(\"性别\")]),_vm._v(\" \"),_c('div',{staticClass:\"sex\"},[[_c('el-radio',{attrs:{\"label\":\"1\"},model:{value:(_vm.radio),callback:function ($$v) {_vm.radio=$$v},expression:\"radio\"}},[_vm._v(\"男\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"0\"},model:{value:(_vm.radio),callback:function ($$v) {_vm.radio=$$v},expression:\"radio\"}},[_vm._v(\"女\")])]],2)]),_vm._v(\" \"),_c('div',{staticClass:\"row clearfix\"},[_c('label',{staticClass:\"title\"},[_vm._v(\"账号ID\")]),_vm._v(\" \"),_c('p',{staticClass:\"desc\"},[_vm._v(_vm._s(_vm.data.phone))])]),_vm._v(\" \"),_c('div',{staticClass:\"row clearfix\"},[_c('label',{staticClass:\"title\"},[_vm._v(\"注册时间\")]),_vm._v(\" \"),_c('p',{staticClass:\"desc\"},[_vm._v(_vm._s(_vm.data.addtime))])]),_vm._v(\" \"),_c('div',{staticClass:\"keepBtn\",on:{\"click\":_vm.getKeep}},[_vm._v(\"保存\")])])])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"centerTitle\"},[_c('ul',[_c('li',{staticClass:\"active\"},[_vm._v(\"资料设置\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4fe3c694\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/personal/data.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4fe3c694\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./data.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./data.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./data.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4fe3c694\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./data.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4fe3c694\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/personal/data.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}