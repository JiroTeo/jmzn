webpackJsonp([8],{EUzr:function(e,t){},"N/vr":function(e,t,s){"use strict";var a=s("Zrlr"),i=s.n(a),n=s("wxAW"),o=s.n(n),r=s("0Mti"),c=function(){function e(){i()(this,e)}return o()(e,[{key:"getCate",value:function(){return r.a.get("/index/category/get_cate_list")}},{key:"getCity",value:function(e){return r.a.get("/index/index/area",e)}},{key:"submitForm",value:function(e){return r.a.post("/index/assess/add_ass",e)}},{key:"getColumnData",value:function(e){return r.a.post("/index/assess/get_cate_avg_count",e)}},{key:"getEvaluate",value:function(e){return r.a.post("/index/assess/ass_all",e)}}]),e}();t.a=new c},Xole:function(e,t){},hn1F:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("Dd8w"),i=s.n(a),n=s("PxNw"),o=s("N/vr"),r=s("z+TU"),c={name:"index.vue",data:function(){return{step:1,checkboxGroup:[],form:{},cateList:[],outTime:60,provinceList:[],cityList:[],imgCode:"",province_id:"",likeCate:[],currentCate:[],value:"",showCode:!0}},created:function(){this.getImgCode(),this.getProvince(),this.getCate()},methods:{getCate:function(){var e=this;o.a.getCate({id:0}).then(function(t){e.cateList=t})},getImgCode:function(){var e=this;r.a.getImgCode().then(function(t){e.imgCode=t})},getCode:function(){var e=this;console.log("this.form;",this.form);var t=this.form,s=t.phone,a=void 0===s?"":s,i=t.img_code,n=void 0===i?"":i,o=this;if(this.validatePhone(a)){this.showCode=!1;var c=setInterval(function(){0==o.outTime&&(o.showCode=!0,o.outTime=60,clearInterval(c)),o.outTime--},1e3);r.a.getPhoneCode({phone:a,img_code:n}).then(function(t){e.$message({message:"验证码获取成功",type:"success"})})}},validatePhone:function(e){return e?11==e.length||(this.$message.error("手机号码格式不正确"),!1):(this.$message.error("请输入手机号码"),!1)},invalidateForm:function(){var e=this.likeCate,t=this.currentCate,s=this.form,a=s.name,i=s.city_id,n=s.money,o=s.phone,r=(s.resources,s.code),c=s.img_code;return a?i?0==t.length?(this.$message.error("请至少选择一个您从事的行业"),!1):n?0==e.length?(this.$message.error("请至少选择一个意向行业"),!1):a?o?c?!!r||(this.$message.error("请填写您的手机验证码"),!1):(this.$message.error("请填写图片验证码"),!1):(this.$message.error("请填写您的手机号码"),!1):(this.$message.error("请填写您的姓名"),!1):(this.$message.error("请填写您的预算金额"),!1):(this.$message.error("请选择加盟区域"),!1):(this.$message.error("请填写您的姓名"),!1)},getProvince:function(){var e=this;o.a.getCity({pid:0}).then(function(t){e.provinceList=t})},getCity:function(){var e=this;o.a.getCity({pid:this.province_id}).then(function(t){e.cityList=t})},upPage:function(){this.step--},nextPage:function(){this.step++},submitForm:function(){var e=this;if(console.log("form"),this.invalidateForm()){var t=this.likeCate,s=this.currentCate,a=this.form;o.a.submitForm(i()({like_cate_id:t.join(","),cate_id:s.join(",")},a)).then(function(t){e.$message.success("提交成功"),setTimeout(function(){e.$router.push("/evaluationReport?id="+t)},800)})}}},components:{PersonalHeader:n.a}},l={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("PersonalHeader"),e._v(" "),s("div",{staticClass:"evaBox"},[s("div",{staticClass:"evaContent"},[s("h3",[e._v("智能评估")]),e._v(" "),s("div",{staticClass:"line"},[e._m(0),e._v(" "),s("div",{class:[e.step>1?"active":""]},[s("span",[e._v("2")])]),e._v(" "),s("div",{class:[e.step>2?"active":""]},[s("span",[e._v("3")])])]),e._v(" "),s("div",{staticClass:"part1",attrs:{hidden:1!=e.step}},[s("h4",{staticClass:"evaTitle"},[e._v("请填写您的基本信息")]),e._v(" "),s("div",{staticClass:"row clearfix"},[s("label",{staticClass:"name"},[e._v("您的姓名")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],staticClass:"textInp",attrs:{type:"text",placeholder:"请填写您的姓名",value:""},domProps:{value:e.form.name},on:{input:function(t){t.target.composing||e.$set(e.form,"name",t.target.value)}}})]),e._v(" "),s("div",{staticClass:"row clearfix"},[s("label",{staticClass:"name"},[e._v("加盟区域")]),e._v(" "),s("div",{staticClass:"selectBox"},[s("el-select",{attrs:{placeholder:"请选择省份"},on:{change:e.getCity},model:{value:e.province_id,callback:function(t){e.province_id=t},expression:"province_id"}},e._l(e.provinceList,function(t){return s("el-option",{key:"province"+t.id,attrs:{label:t.cityname,value:t.id}},[s("span",[e._v(e._s(t.cityname))])])}),1)],1),e._v(" "),s("span",{staticClass:"fl unit provice"},[e._v("省")]),e._v(" "),s("div",{staticClass:"selectBox"},[s("el-select",{attrs:{placeholder:"请选择城市"},model:{value:e.form.city_id,callback:function(t){e.$set(e.form,"city_id",t)},expression:"form.city_id"}},e._l(e.cityList,function(t){return s("el-option",{key:"city"+t.id,attrs:{label:t.cityname,value:t.id}},[s("span",[e._v(e._s(t.cityname))])])}),1)],1),e._v(" "),s("span",{staticClass:"fl unit"},[e._v("市")])]),e._v(" "),e._m(1)]),e._v(" "),s("div",{staticClass:"part2",attrs:{hidden:2!=e.step}},[s("h4",{staticClass:"evaTitle"},[e._v("请选择您从事的行业")]),e._v(" "),s("div",{staticClass:"choiceBox"},[s("el-checkbox-group",{attrs:{size:"medium"},model:{value:e.currentCate,callback:function(t){e.currentCate=t},expression:"currentCate"}},e._l(e.cateList,function(t,a){return s("el-checkbox-button",{key:"current"+t.id,attrs:{label:t.id}},[e._v(" "+e._s(t.name))])}),1)],1),e._v(" "),s("h4",{staticClass:"evaTitle"},[e._v("请填写您的预算金额")]),e._v(" "),s("div",{staticClass:"budget clearfix"},[s("label",{staticClass:"name"},[e._v("预算金额")]),e._v(" "),s("div",{staticClass:"border clearfix"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.money,expression:"form.money"}],staticClass:"fl",attrs:{type:"text",placeholder:"请输入您的预算金额"},domProps:{value:e.form.money},on:{input:function(t){t.target.composing||e.$set(e.form,"money",t.target.value)}}}),e._v(" "),s("span",{staticClass:"fr"},[e._v("万元")])])])]),e._v(" "),s("div",{staticClass:"part3",attrs:{hidden:3!=e.step}},[s("h4",{staticClass:"evaTitle"},[e._v("请选择您的意向行业")]),e._v(" "),s("div",{staticClass:"choiceBox"},[s("el-checkbox-group",{attrs:{size:"medium"},model:{value:e.likeCate,callback:function(t){e.likeCate=t},expression:"likeCate"}},e._l(e.cateList,function(t,a){return s("el-checkbox-button",{key:"like"+t.id,attrs:{label:t.id}},[e._v(" "+e._s(t.name))])}),1)],1),e._v(" "),s("h4",{staticClass:"evaTitle"},[e._v("请填写您的联系方式")]),e._v(" "),s("div",{staticClass:"budget clearfix"},[s("label",{staticClass:"name"},[e._v("手机号码")]),e._v(" "),s("div",{staticClass:"border clearfix"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.phone,expression:"form.phone"}],staticClass:"fl",attrs:{type:"text",placeholder:"请输入您的手机号码"},domProps:{value:e.form.phone},on:{input:function(t){t.target.composing||e.$set(e.form,"phone",t.target.value)}}})])]),e._v(" "),s("div",{staticClass:"budget clearfix"},[s("label",{staticClass:"name"},[e._v("图片验证")]),e._v(" "),s("div",{staticClass:"border clearfix"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.img_code,expression:"form.img_code"}],staticClass:"fl testInp",attrs:{type:"text",placeholder:"请输入图片验证码"},domProps:{value:e.form.img_code},on:{input:function(t){t.target.composing||e.$set(e.form,"img_code",t.target.value)}}}),e._v(" "),s("img",{staticClass:"imgCode",attrs:{src:e.imgCode},on:{click:e.getImgCode}})])]),e._v(" "),s("div",{staticClass:"budget clearfix"},[s("label",{staticClass:"name"},[e._v("手机验证")]),e._v(" "),s("div",{staticClass:"border clearfix"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.code,expression:"form.code"}],staticClass:"fl testInp",attrs:{type:"text",placeholder:"请输入手机验证码"},domProps:{value:e.form.code},on:{input:function(t){t.target.composing||e.$set(e.form,"code",t.target.value)}}}),e._v(" "),e.showCode?s("span",{staticClass:"getBtn",on:{click:e.getCode}},[e._v("获取验证码")]):s("span",{staticClass:"getBtn"},[e._v(e._s(e.outTime)+"S后重新获取")])])])]),e._v(" "),s("div",{staticClass:"btns"},[s("el-button",{style:{display:1==e.step?"none":"inline-block"},attrs:{type:"info"},on:{click:e.upPage}},[e._v("上一步")]),e._v(" "),s("el-button",{style:{display:3==e.step?"none":"inline-block"},attrs:{type:"primary"},on:{click:e.nextPage}},[e._v("下一步")]),e._v(" "),s("el-button",{style:{display:3!=e.step?"none":"inline-block"},attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("完成")])],1)])])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"active"},[t("span",[this._v("1")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"row clearfix"},[t("label",{staticClass:"name"},[this._v("个人资源")]),this._v(" "),t("input",{staticClass:"textInp",attrs:{type:"text",placeholder:"请填写您的个人资源",value:""}})])}]};var v=s("VU/8")(c,l,!1,function(e){s("EUzr"),s("Xole")},"data-v-bb91ffac",null);t.default=v.exports}});
//# sourceMappingURL=8.f2eefb17dc2fadf7f82e.js.map