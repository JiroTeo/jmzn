{"version":3,"sources":["webpack:///src/components/HotConsult.vue","webpack:///./src/components/HotConsult.vue?f0d2","webpack:///./src/components/HotConsult.vue","webpack:///./utils/util.js","webpack:///./src/api/consultDetail-api.js","webpack:///src/pages/consultDetail/consultDetail.vue","webpack:///./src/pages/consultDetail/consultDetail.vue?5c14","webpack:///./src/pages/consultDetail/consultDetail.vue"],"names":["HotConsult","name","data","mounted","this","getData","methods","_this","common_api","getHotConsult","then","components_HotConsult","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","to","_l","item","index","key","id","_s","title","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","formatNumber","n","toString","module","exports","formatTime","time","date","Date","year","getFullYear","month","getMonth","day","getDate","hour","getHours","minute","getMinutes","second","getSeconds","map","join","formatDuring","days","parseInt","hours","minutes","seconds","htmlEscapt","html","replace","match","consultDetail_api","params","httpUtils","get","consultDetail_consultDetail","commentList","content","console","log","$route","query","getCommentList","beforeRouteUpdate","from","next","_this2","_this3","detail","util_default","a","addFollow","_this4","_data","is_fow","type","$message","success","removeFollow","addComment","_this5","topic_id","to_uid","uid","pid","error","addLike","e","_this6","components","Search","HotOrder","IndustryList","pages_consultDetail_consultDetail","username","addtime","read_num","class","collectActive","on","click","domProps","innerHTML","prev","directives","rawName","value","expression","cols","rows","placeholder","input","$event","target","composing","length","src","userAvatar","alt","data-id","likes","comment","_e"],"mappings":"sEAkBAA,GACAC,KAAA,aACAC,KAFA,WAGA,OACAA,KAAA,KAGAC,QAPA,WAQAC,KAAAC,WAEAC,SACAD,QADA,WACA,IAAAE,EAAAH,KACMI,EAAA,EAANC,gBAAAC,KAAA,SAAAR,GACAK,EAAAL,YC5BeS,GADEC,OAFjB,WAA0B,IAAAC,EAAAT,KAAaU,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,eAAyBF,EAAA,OAAYE,YAAA,mBAA6BF,EAAA,QAAaE,YAAA,OAAiBL,EAAAM,GAAA,UAAAN,EAAAM,GAAA,KAAAH,EAAA,eAAiDE,YAAA,UAAAE,OAA6BC,GAAA,sBAAyBR,EAAAM,GAAA,QAAAH,EAAA,QAA4BE,YAAA,2BAAkC,GAAAL,EAAAM,GAAA,KAAAH,EAAA,OAA8BE,YAAA,QAAmBL,EAAAS,GAAAT,EAAA,cAAAU,EAAAC,GAAwC,OAAAR,EAAA,eAAyBS,IAAA,MAAAF,EAAAG,GAAAR,YAAA,gBAAAE,OAAqDC,GAAA,qBAAAE,EAAAG,MAAmCV,EAAA,OAAYE,YAAA,aAAuBL,EAAAM,GAAAN,EAAAc,GAAAH,EAAA,MAAAX,EAAAM,GAAA,KAAAH,EAAA,OAAkDE,YAAA,YAAsBL,EAAAM,GAAAN,EAAAc,GAAAJ,EAAAK,cAAiC,MAEprBC,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEhC,EACAW,GATF,EAVA,SAAAsB,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,EAAAJ,EAAiB,4BCzBhC,MA+BAK,EAAAC,IACAA,IAAAC,YACA,GAAAD,EAAA,IAAAA,EAiFAE,EAAAC,SACAC,WAnHAC,IACA,MAAAC,EAAA,IAAAC,KAAA,IAAAF,GACAG,EAAAF,EAAAG,cACAC,EAAAJ,EAAAK,WAAA,EACAC,EAAAN,EAAAO,UACAC,EAAAR,EAAAS,WACAC,EAAAV,EAAAW,aACAC,EAAAZ,EAAAa,aACA,OAAAX,EAAAE,EAAAE,GAAAQ,IAAArB,GAAAsB,KAAA,UAAAP,EAAAE,EAAAE,GAAAE,IAAArB,GAAAsB,KAAA,MA4GAC,aAhFAjB,IAKA,OAAUkB,KAJVC,SAAAnB,EAAA,OAIUoB,MAHVD,SAAAnB,EAAA,YAGUqB,QAFVF,SAAAnB,EAAA,UAEUsB,QADVH,SAAAnB,EAAA,WA6EAuB,WAxGA,SAAAC,GAeA,OAbAA,IAAAC,QADA,kCACA,SAAAC,GACA,OAAAA,GACA,WACA,UACA,WACA,UACA,YACA,UACA,aACA,cAIAD,QAAA,yQCPeE,EAAA,oFAnBLC,GACN,OAAOC,IAAUC,IAAI,4BAA4BF,0CAEpCA,GACb,OAAOC,IAAUC,IAAI,kCAAkCF,sCAE9CA,GACT,OAAOC,IAAUC,IAAI,6BAA6BF,qCAE1CA,GACR,OAAOC,IAAUC,IAAI,2BAA2BF,wCAErCA,GACX,OAAOC,IAAUC,IAAI,8BAA8BF,mCAE7CA,GACN,OAAOC,IAAUC,IAAI,2BAA2BF,kCC+EpDG,GACAvE,KAAA,gBACAC,KAFA,WAGA,OACAA,QACAuE,eACA/C,GAAA,GACAgD,QAAA,KAGAvE,QAVA,WAUA,IAAAI,EAAAH,KACAuE,QAAAC,IAAA,WADA,IAEAlD,EAAAtB,KAAAyE,OAAAC,MAAApD,GACAiD,QAAAC,IAAA,KAAAlD,GACAtB,KAAAsB,KACAtB,KAAAC,UACI+D,EAAJW,gBAAArD,OAAAhB,KAAA,SAAAR,GACAK,EAAAkE,YAAAvE,OACAyE,QAAAC,IAAA1E,WAGA8E,kBArBA,SAqBA3D,EAAA4D,EAAAC,GAAA,IAAAC,EAAA/E,KAEAsB,EAAAL,EAAAyD,MAAApD,GACAtB,KAAAsB,KACAtB,KAAAC,UACI+D,EAAJW,gBAAArD,OAAAhB,KAAA,SAAAR,GACAiF,EAAAV,YAAAvE,OACAyE,QAAAC,IAAA1E,UAEAgF,KAEA5E,SACAD,QADA,WACA,IAAA+E,EAAAhF,KACAsB,EAAAtB,KAAAsB,GACM0C,EAAN/D,SAAAqB,OAAAhB,KAAA,SAAAR,GACAA,IACAyE,QAAAC,IAAA1E,EAAAmF,QACAnF,OAAAoF,EAAAC,EAAAvB,WAAA9D,EAAAmF,SAEAD,EAAAlF,OACAyE,QAAAC,IAAA1E,MAIAsF,UAAA,eAAAC,EAAArF,KAAAsF,EACAtF,KAAAF,KAAAyF,EADAD,EACAC,OAAAjE,EADAgE,EACAhE,GACAiD,QAAAC,IAAA,UAAAe,GACA,GAAAA,EACQvB,EAARoB,WAAA9D,KAAAkE,KAAA,IAAAlF,KAAA,SAAAR,GACAuF,EAAAI,SAAAC,QAAA,QACAL,EAAApF,YAGQ+D,EAAR2B,cAAArE,KAAAkE,KAAA,IAAAlF,KAAA,SAAAR,GACAuF,EAAAI,SAAAC,QAAA,SACAL,EAAApF,aAIA2F,WAAA,eAAAC,EAAA7F,KACAF,EAAAE,KAAAF,KAAAwE,EAAAtE,KAAAsE,QACA,IAAAA,EAIMN,EAAN4B,YAAAE,SAAAhG,EAAAwB,GAAAyE,OAAAjG,EAAAkG,IAAA1B,UAAA2B,IAAA,IAAA3F,KAAA,SAAAR,GACA+F,EAAA5F,UACA4F,EAAAvB,QAAA,KALAtE,KAAAyF,SAAAS,MAAA,eAQAC,QAAA,SAAAC,EAAA9E,GAAA,IAAA+E,EAAArG,KACMgE,EAANmC,SAAA7E,OAAAhB,KAAA,SAAAR,GACAuG,EAAApG,cAIAqG,YACAC,SAAA,EACAC,WAAA,EACAC,eAAA,EACA7G,aAAA,IChLe8G,GADElG,OAFjB,WAA0B,IAAAC,EAAAT,KAAaU,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,kBAA4BF,EAAA,UAAAH,EAAAM,GAAA,KAAAH,EAAA,OAAqCE,YAAA,cAAwBF,EAAA,OAAYE,YAAA,YAAsBF,EAAA,OAAYE,YAAA,SAAmBF,EAAA,eAAoBI,OAAOC,GAAA,OAAUL,EAAA,QAAAH,EAAAM,GAAA,QAAAN,EAAAM,GAAA,KAAAH,EAAA,OAAAH,EAAAM,GAAA,KAAAH,EAAA,eAAgFI,OAAOC,GAAA,WAAcL,EAAA,QAAAH,EAAAM,GAAA,SAAAN,EAAAM,GAAA,KAAAH,EAAA,OAAAH,EAAAM,GAAA,KAAAH,EAAA,eAAiFI,OAAOC,GAAA,kBAAqBL,EAAA,QAAAH,EAAAM,GAAA,SAAAN,EAAAM,GAAA,KAAAH,EAAA,OAAAH,EAAAM,GAAA,KAAAH,EAAA,eAAiFE,YAAA,SAAAE,OAA4BC,GAAA,WAAcL,EAAA,QAAAH,EAAAM,GAAA,UAAAN,EAAAM,GAAA,KAAAH,EAAA,eAAAH,EAAAM,GAAA,KAAAH,EAAA,OAAkFE,YAAA,qBAA+BF,EAAA,OAAYE,YAAA,WAAqBL,EAAAM,GAAA,SAAAH,EAAA,eAAoCI,OAAOC,GAAA,WAAcR,EAAAM,GAAA,UAAAN,EAAAM,GAAA,MAAAN,EAAAc,GAAA,GAAAd,EAAAX,KAAA0F,KAAA,UAAA/E,EAAAX,KAAA0F,KAAA,UAAA/E,EAAAX,KAAA0F,KAAA,gBAAA/E,EAAAM,GAAA,KAAAH,EAAA,OAA2JE,YAAA,eAAyBF,EAAA,OAAYE,YAAA,UAAoBL,EAAAM,GAAAN,EAAAc,GAAAd,EAAAX,KAAA0B,UAAAf,EAAAM,GAAA,KAAAH,EAAA,OAAyDE,YAAA,oBAA8BF,EAAA,OAAAH,EAAAM,GAAA,MAAAN,EAAAc,GAAAd,EAAAX,KAAA6G,UAAA,YAAAlG,EAAAc,GAAAd,EAAAX,KAAA8G,SAAA,WAAAnG,EAAAc,GAAAd,EAAAX,KAAA+G,aAAApG,EAAAM,GAAA,KAAAH,EAAA,QAAuJE,YAAA,aAAAgG,OAAgCC,cAAA,GAAAtG,EAAAX,KAAAyF,QAAmCyB,IAAKC,MAAAxG,EAAA2E,aAAuBxE,EAAA,KAAUE,YAAA,0BAAoCL,EAAAM,GAAA,QAAAN,EAAAX,KAAAyF,OAAA3E,EAAA,KAAAH,EAAAM,GAAA,SAAAH,EAAA,KAAAH,EAAAM,GAAA,YAAAN,EAAAM,GAAA,KAAAH,EAAA,OAA4GE,YAAA,UAAAoG,UAAgCC,UAAA1G,EAAAc,GAAAd,EAAAX,KAAAmF,WAAqCxE,EAAAM,GAAA,KAAAH,EAAA,OAAwBE,YAAA,YAAsBF,EAAA,OAAYE,YAAA,OAAiBF,EAAA,QAAAH,EAAAM,GAAA,UAAAN,EAAAM,GAAA,KAAAH,EAAA,eAA4DI,OAAOC,GAAA,qBAAAR,EAAAX,KAAAsH,KAAA9F,MAA4Cb,EAAAM,GAAAN,EAAAc,GAAAd,EAAAX,KAAAsH,KAAA5F,WAAA,GAAAf,EAAAM,GAAA,KAAAH,EAAA,OAAkEE,YAAA,OAAiBF,EAAA,QAAAH,EAAAM,GAAA,UAAAN,EAAAM,GAAA,KAAAH,EAAA,eAA4DI,OAAOC,GAAA,qBAAAR,EAAAX,KAAAgF,KAAAxD,MAA4Cb,EAAAM,GAAAN,EAAAc,GAAAd,EAAAX,KAAAgF,KAAAtD,WAAA,OAAAf,EAAAM,GAAA,KAAAH,EAAA,cAA6EE,YAAA,QAAiB,GAAAL,EAAAM,GAAA,KAAAH,EAAA,OAA4BE,YAAA,YAAsBF,EAAA,OAAYE,YAAA,oBAA8BF,EAAA,OAAYE,YAAA,UAAoBL,EAAAM,GAAA,4BAAAN,EAAAM,GAAA,KAAAH,EAAA,OAA2DE,YAAA,YAAsBF,EAAA,YAAiByG,aAAaxH,KAAA,QAAAyH,QAAA,UAAAC,MAAA9G,EAAA,QAAA+G,WAAA,YAAwExG,OAASyG,KAAA,KAAAC,KAAA,KAAAC,YAAA,WAAgDT,UAAWK,MAAA9G,EAAA,SAAsBuG,IAAKY,MAAA,SAAAC,GAAyBA,EAAAC,OAAAC,YAAsCtH,EAAA6D,QAAAuD,EAAAC,OAAAP,WAAkC9G,EAAAM,GAAA,KAAAH,EAAA,OAAwBE,YAAA,cAAwBF,EAAA,aAAkBE,YAAA,KAAAE,OAAwBwE,KAAA,WAAiBwB,IAAKC,MAAAxG,EAAAmF,cAAwBnF,EAAAM,GAAA,gBAAAN,EAAAM,GAAA,KAAAN,EAAA4D,YAAA2D,OAAA,EAAApH,EAAA,OAA0EE,YAAA,YAAsBF,EAAA,OAAYE,YAAA,UAAoBL,EAAAM,GAAA,gBAAAN,EAAAc,GAAAd,EAAA4D,YAAA2D,QAAA,mBAAAvH,EAAAM,GAAA,KAAAN,EAAAS,GAAAT,EAAA,qBAAAU,EAAAC,GAAqI,OAAAR,EAAA,OAAiBE,YAAA,yBAAmCF,EAAA,OAAYE,YAAA,YAAAE,OAA+BiH,IAAA9G,EAAA+G,WAAAC,IAAA,MAAgC1H,EAAAM,GAAA,KAAAH,EAAA,OAAwBE,YAAA,YAAsBF,EAAA,OAAYE,YAAA,SAAmBL,EAAAM,GAAA,mBAAAN,EAAAc,GAAAJ,EAAAwF,UAAA,oBAAA/F,EAAA,OAAgFE,YAAA,cAAAE,OAAiCoH,UAAA,WAAoBpB,IAAKC,MAAA,SAAAY,GAAyB,OAAApH,EAAA0F,QAAA0B,EAAA1G,EAAAG,QAAqCV,EAAA,QAAaE,YAAA,yBAAmCL,EAAAM,GAAA,IAAAN,EAAAc,GAAAJ,EAAAkH,OAAA,wBAAA5H,EAAAM,GAAA,KAAAH,EAAA,OAAAH,EAAAM,GAAAN,EAAAc,GAAAJ,EAAAmD,YAAA7D,EAAAM,GAAA,KAAAI,EAAAmH,QAAAN,OAAA,EAAApH,EAAA,OAA2JE,YAAA,SAAoBL,EAAAS,GAAAC,EAAA,iBAAAgE,EAAA/D,GAAyC,OAAAR,EAAA,OAAAH,EAAAM,GAAAN,EAAAc,GAAA4D,EAAAwB,UAAA,IAAAlG,EAAAc,GAAA4D,EAAAb,cAAoE,GAAA7D,EAAA8H,KAAA9H,EAAAM,GAAA,KAAAH,EAAA,OAAoCE,YAAA,kBAA4BF,EAAA,QAAaE,YAAA,OAAiBL,EAAAM,GAAAN,EAAAc,GAAAJ,EAAAkB,kBAAoC,GAAA5B,EAAA8H,UAAA,IAE5uH9G,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEwC,EACAsC,GATF,EAVA,SAAA7E,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"web/js/6.095d746995d4dd6f8bf4.js","sourcesContent":["<template>\n    <div class=\"hotConsult\">\n      <div class=\"title clearfix\" >\n          <span class=\"fl\" >热门资讯</span>\n          <router-link class=\"fr more\" to=\"/newsList?type=1\"> 更多 <span class=\"el-icon-arrow-right\"></span></router-link>\n      </div>\n      <div class=\"list\">\n          <router-link  :to=\"'/consultDetail?id='+item.id\" class=\"item clearfix\" v-for=\"(item,index) in data\" :key=\"'hot'+item.id\" >\n            <div class=\"order fl\">{{index+1}}</div>\n            <div class=\"name fl\">{{item.title}}</div>\n<!--            <div class=\"count fr\">{{item.read_num}}</div>-->\n          </router-link>\n      </div>\n    </div>\n</template>\n\n<script>\n    import commonApi from \"@/api/common-api\"\n    export default {\n        name: \"hotConsult\",\n        data(){\n          return {\n            data: ''\n          }\n        },\n        mounted () {\n          this.getData();\n        },\n        methods:{\n          getData(){\n            commonApi.getHotConsult().then( data => {\n              this.data = data;\n            });\n          }\n        }\n    }\n</script>\n\n<style lang=\"less\" scoped type=\"text/less\">\n  .hotConsult{\n    width: 295px;\n   min-height: 420px;\n    background-color: #fff;\n    .title{\n      height: 50px;\n      line-height: 50px;\n      font-size: 14px;\n      font-weight: bold;\n      padding: 0 19px;\n      border-bottom: 1px solid #E3E4E5;\n      .more{\n        color: #999;\n        font-size: 12px;\n        font-weight: normal;\n      }\n    }\n  }\n  .list{\n    padding:13px 20px 23px 20px;\n    .item{\n      padding-top:10px;\n      display: block;\n      .order{\n        width: 18px;\n        height: 21px;\n        text-align: center;\n        line-height: 21px;\n        font-size: 12px;\n        color: #999;\n      }\n      .name{\n        width: 89%;\n        font-size: 14px;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        margin-left: 10px;\n      }\n      .count{\n        color: #999;\n        font-size: 12px;\n      }\n    }\n    .item:nth-child(-n+3) .order{\n      color: #fff;\n      background: url(\"../../static/image/icon_hotConsult.jpg\") 100% 100% no-repeat;\n    }\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/HotConsult.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hotConsult\"},[_c('div',{staticClass:\"title clearfix\"},[_c('span',{staticClass:\"fl\"},[_vm._v(\"热门资讯\")]),_vm._v(\" \"),_c('router-link',{staticClass:\"fr more\",attrs:{\"to\":\"/newsList?type=1\"}},[_vm._v(\" 更多 \"),_c('span',{staticClass:\"el-icon-arrow-right\"})])],1),_vm._v(\" \"),_c('div',{staticClass:\"list\"},_vm._l((_vm.data),function(item,index){return _c('router-link',{key:'hot'+item.id,staticClass:\"item clearfix\",attrs:{\"to\":'/consultDetail?id='+item.id}},[_c('div',{staticClass:\"order fl\"},[_vm._v(_vm._s(index+1))]),_vm._v(\" \"),_c('div',{staticClass:\"name fl\"},[_vm._v(_vm._s(item.title))])])}),1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7334df6a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/HotConsult.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7334df6a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./HotConsult.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HotConsult.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HotConsult.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7334df6a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./HotConsult.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7334df6a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/HotConsult.vue\n// module id = null\n// module chunks = ","\nconst formatTime = time => {\n  const date = new Date(time*1000);\n  const year = date.getFullYear()\n  const month = date.getMonth() + 1\n  const day = date.getDate()\n  const hour = date.getHours()\n  const minute = date.getMinutes()\n  const second = date.getSeconds()\n  return [year, month, day].map(formatNumber).join('-') + ' ' + [hour, minute, second].map(formatNumber).join(':')\n}\n\n\n\nconst htmlEscapt = function (html) {\n  var reg = /(&lt;)|(&gt;)|(&amp;)|(&quot;)/g;\n  html = html.replace(reg, function (match) {\n    switch (match) {\n      case \"&lt;\":\n        return \"<\";\n      case \"&gt;\":\n        return \">\"\n      case \"&amp;\":\n        return \"&\";\n      case \"&quot;\":\n        return \"\\\"\"\n    }\n  });\n\n  return html.replace(/\\<img/g, '<img style=\"max-width:100%;height:auto\"');\n}\n\nconst formatNumber = n => {\n  n = n.toString()\n  return n[1] ? n : '0' + n\n}\n\nconst formatDuring = time => {\n  const days = parseInt(time / (1000 * 60 * 60 * 24));\n  const hours = parseInt((time % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)) ;\n  const minutes = parseInt((time % (1000 * 60 * 60)) / (1000 * 60));\n  const seconds = parseInt((time % (1000 * 60)) / 1000);\n  return {days,hours,minutes,seconds};\n};\n/**\n * 生成富文本节点\n */\nfunction generateRichTextNode(text) {\n  var emoji = emojimap.emojiList.emoji;\n  let tempStr = text\n  let richTextNode = []\n  let leftBracketIndex = tempStr.indexOf('[')\n  let rightBracketIndex = tempStr.indexOf(']')\n  let countOfWord = 0\n  Array.from(tempStr).map(item => {\n    if (item != '[' && item != ']') {\n      countOfWord++\n    }\n  })\n  if (leftBracketIndex == -1 || rightBracketIndex == -1 || countOfWord == 0) {//没有emoji\n    richTextNode.push({\n      type: 'text',\n      text: tempStr\n    })\n    return richTextNode\n  }\n  while (tempStr.length != 0) {\n    leftBracketIndex = tempStr.indexOf('[')\n    rightBracketIndex = tempStr.indexOf(']')\n    if (leftBracketIndex == 0) { // 开头是[\n      rightBracketIndex = tempStr.indexOf(']')\n      if (rightBracketIndex == -1) {\n        richTextNode.push({\n          type: 'text',\n          text: tempStr\n        })\n        tempStr = ''\n      } else {\n        let emojiName = tempStr.slice(0, rightBracketIndex + 1)\n        if (emoji[emojiName]) { // 有效emoji\n          richTextNode.push({\n            name: 'img',\n            attrs: {\n              width: '30rpx',\n              height: '30rpx',\n              src: emoji[emojiName].img\n            }\n          })\n        } else {//无效emoji\n          richTextNode.push({\n            type: 'text',\n            text: emojiName\n          })\n        }\n        tempStr = tempStr.substring(rightBracketIndex + 1, tempStr.length)\n      }\n    } else { // 开头不是[\n      if (leftBracketIndex == -1) {// 最后全是文字\n        richTextNode.push({\n          type: 'text',\n          text: tempStr.slice(0, tempStr.length)\n        })\n        tempStr = ''\n      } else {\n        richTextNode.push({\n          type: 'text',\n          text: tempStr.slice(0, leftBracketIndex)\n        })\n        tempStr = tempStr.substring(leftBracketIndex, tempStr.length + 1)\n      }\n    }\n  }\n  return richTextNode\n}\n\nmodule.exports = {\n  formatTime,\n  formatDuring,\n  htmlEscapt,\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./utils/util.js\n// module id = Rhsk\n// module chunks = 6 10","import httpUtils from 'config/index'\n\nclass consultDetail {\n  getData(params) {\n    return httpUtils.get(\"/index/article/art_detail\",params);\n  }\n  getCommentList(params){\n    return httpUtils.get(\"/index/comment/get_comment_list\",params);\n  }\n  addComment(params){\n    return httpUtils.get(\"/index/comment/add_comment\",params);\n  }\n  addFollow(params){\n    return httpUtils.get(\"/index/follow/add_follow\",params);\n  }\n  removeFollow(params){\n    return httpUtils.get(\"/index/follow/remove_follow\",params);\n  }\n  addLike(params){\n    return httpUtils.get(\"/index/comment/add_likes\",params);\n  }\n}\nexport default new consultDetail()\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/consultDetail-api.js","<template>\n    <div class=\"consultDetail\">\n      <Search></Search>\n      <div class=\"commonNav\">\n        <div class=\"wrapper\">\n          <div class=\"part\">\n            <router-link  to=\"/\">\n              <span>首页</span>\n              <i></i>\n            </router-link>\n            <router-link to=\"/list\">\n              <span>找项目</span>\n              <i></i>\n            </router-link>\n            <router-link to=\"/rankingList\">\n              <span>排行榜</span>\n              <i></i>\n            </router-link>\n            <router-link class=\"active\" to=\"/news\">\n              <span>行业资讯</span>\n              <i></i>\n            </router-link>\n          </div>\n        </div>\n      </div>\n      <div class=\"wrapper clearfix\">\n        <div class=\"crumbs\">您的位置：<router-link to=\"/news\">行业咨询</router-link> > {{data.type == 1 ? '加盟咨询': data.type== 2 ?'加盟攻略' : data.type == 0 ? '行业报告':''}}</div>\n        <div class=\"article fl\">\n          <div class=\"title\">{{data.title}}</div>\n          <div class=\"subhead between\">\n            <div>作者：{{data.username}} &nbsp;&nbsp; 发布时间：{{data.addtime}} &nbsp;&nbsp; 阅读量：{{data.read_num}}</div>\n            <span class=\"collectBtn\" :class=\"{'collectActive':data.is_fow==1}\" @click=\"addFollow\">\n              <i class=\"iconfont icon-collect\"></i>\n              <b v-if=\"data.is_fow==1\">已收藏</b>\n              <b v-else>收藏</b>\n            </span>\n          </div>\n          <div class=\"content\" v-html=\"data.detail\"></div>\n          <div class=\"footer \">\n              <div class=\"fl\">\n                <span>上一篇：</span>\n                <router-link :to=\"'/consultDetail?id='+data.prev.id\">{{data.prev.title}}</router-link>\n              </div>\n              <div class=\"fr\">\n                <span>下一篇：</span>\n                <router-link :to=\"'/consultDetail?id='+data.next.id\">{{data.next.title}}</router-link>\n              </div>\n          </div>\n        </div>\n        <HotConsult class=\"fr\"></HotConsult>\n      </div>\n      <div class=\"wrapper\">\n        <div class=\"articleConsult \">\n          <div class=\"title\">\n            文章评论\n          </div>\n          <div class=\"content\">\n            <textarea cols=\"30\" rows=\"10\" placeholder=\"请输入评论内容\" v-model=\"content\"></textarea>\n            <div class=\" clearfix\">\n              <el-button type=\"primary\" class=\"fr\" @click=\"addComment\">提交评论</el-button>\n            </div>\n          </div>\n          <div class=\"consult\" v-if=\"commentList.length>0\">\n            <div class=\"count\">\n              共{{commentList.length}}条评论\n            </div>\n            <div class=\"consultItem clearfix\" v-for=\"(item,index) in commentList\">\n              <img class=\"avatar fl\" :src=\"item.userAvatar\" alt=\"\">\n              <div class=\"info fl\">\n                <div class=\"name\">\n                  {{item.username}}\n                  <div class=\"fr noPraise\" data-id=\"item.id\" @click=\"addLike($event,item.id)\">\n                    <span class=\"iconfont icon-praise\"></span> {{item.likes}}\n                  </div>\n                </div>\n                <div >{{item.content}}</div>\n                <div class=\"reply\" v-if=\"item.comment.length>0\">\n                  <div v-for=\"(a,index) in item.comment\">{{a.username}}：{{a.content}}</div>\n                </div>\n                <div class=\"time clearfix\">\n                  <span class=\"fl\">{{item.time}}</span>\n                  <!--<span class=\"fr replyBtn\">回复</span>-->\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n</template>\n\n<script>\n  import Search from '@/components/Search'\n  import HotOrder from '@/components/HotOrder'\n  import HotConsult from \"@/components/HotConsult\"\n  import IndustryList from '@/components/IndustryList'\n  import api from \"@/api/consultDetail-api\"\n  import utils from '../../../utils/util'\n  export default {\n    name: \"consultDetail\",\n    data() {\n      return {\n        data:{},\n        commentList:[],\n        id:'',\n        content:''\n      }\n    },\n    mounted(){\n      console.log(\"created\");\n      const {id} = this.$route.query;\n      console.log(\"id\",id);\n      this.id = id;\n      this.getData();\n      api.getCommentList({id}).then(data => {\n        this.commentList = data.data;\n        console.log(data.data)\n      });\n    },\n    beforeRouteUpdate(to,from,next){\n\n      const {id} = to.query;\n        this.id = id;\n        this.getData();\n        api.getCommentList({id}).then(data => {\n          this.commentList = data.data;\n          console.log(data.data)\n        });\n      next();\n    },\n    methods:{\n      getData(){\n        const {id} = this;\n        api.getData({id}).then(data => {\n          if(data){\n            console.log(data.detail);\n            data.data = utils.htmlEscapt(data.detail)\n          }\n          this.data = data;\n          console.log(data)\n        });\n\n      },\n      addFollow:function(){\n        const {is_fow,id} = this.data;\n        console.log('is_fow:'+is_fow)\n        if(is_fow==0){\n          api.addFollow({id,type:3}).then(data => {\n            this.$message.success('收藏成功');\n            this.getData();\n          });\n        }else{\n          api.removeFollow({id,type:3}).then(data => {\n            this.$message.success('已取消收藏');\n            this.getData();\n          });\n        }\n      },\n      addComment:function(){\n        const {data,content} = this;\n        if(content==''){\n          this.$message.error('请输入您要评论的内容');\n          return\n        }\n        api.addComment({topic_id:data.id,to_uid:data.uid,content,pid:0}).then(data => {\n          this.getData();\n          this.content=''\n        });\n      },\n      addLike:function(e,id){\n        api.addLike({id:id}).then(data => {\n          this.getData();\n        });\n      }\n    },\n    components:{\n      Search,\n      HotOrder,\n      IndustryList,\n      HotConsult\n    }\n  }\n</script>\n\n<style lang=\"less\" type=\"text/less\" scoped>\n  .consultDetail{\n    background-color: #F4F5FA;\n    padding-bottom: 125px;\n  }\n  /* tabbar */\n  .commonNav {\n    width: 100%;\n    height: 40px;\n    line-height: 40px;\n    background: #2F333B;\n    font-size: 16px;\n    color: #fff;\n    .all{\n      float: left;\n      width: 240px;\n      height: 40px;\n      text-align: center;\n      background: #51575D;\n      img,label{\n        display: inline-block;\n        vertical-align: middle;\n      }\n      img{\n        margin:-2px 14px 0 0;\n      }\n    }\n    .part{\n      a{\n        float: left;\n        width: 160px;\n        height: 40px;\n        position: relative;\n        color: #fff;\n        text-align: center;\n      }\n      a.active{\n        background: #1A1D21;\n        i{\n          width: 34px;\n          height: 2px;\n          background: -webkit-gradient(linear, 100% 0, 0 0, from(#579EFA), to(#4F74F4));\n          background: -webkit-linear-gradient(to bottom, #579EFA, #4F74F4);\n          background: -moz-linear-gradient(to bottom, #579EFA, #4F74F4);\n          background: -o-linear-gradient(to bottom, #579EFA, #4F74F4);\n          background: linear-gradient(to bottom, #579EFA, #4F74F4);\n          position: absolute;\n          left: 50%;\n          margin-left: -17px;\n          bottom: 2px;\n          z-index: 1;\n        }\n      }\n    }\n    .issueBtn{\n      float: right;\n      color: #FEAB17;\n    }\n  }\n  /* tabbar */\n  /* 面包屑 */\n  .crumbs{\n    color: #999;\n    font-size: 14px;\n    line-height: 60px;\n  }\n  /* 面包屑 */\n  /* 文章 */\n  .article{\n    width: 895px;\n    background-color: #fff;\n    padding-top:  41px;\n    .title{\n      font-weight: bold;\n      font-size: 22px;\n      padding: 0 41px;\n    }\n    .subhead{\n      font-size: 12px;\n      color: #999;\n      padding: 25px 41px;\n    }\n    .collectBtn{\n      width: 78px;\n      height: 28px;\n      line-height: 28px;\n      text-align: center;\n      border:1px solid #E3E4E5;\n      border-radius:2px;\n      cursor: pointer;\n      i,b{\n        display: inline-block;\n        vertical-align: middle;\n        font-weight: normal;\n      }\n      i{\n        margin: -2px 5px 0 0;\n        font-size: 18px;\n        color: #C8C9CC;\n      }\n    }\n    .collectActive{\n      color: #5389F7;\n      i{\n        color: #5389F7;\n      }\n    }\n    .content{\n      min-height: 160px;\n      padding: 0 41px 30px 41px;\n      border-bottom: 1px solid #E3E4E5;\n      line-height: 26px;\n    }\n    .footer{\n        height: 90px;\n        line-height: 90px;\n        font-size: 14px;\n        color: #4D4D4D;\n        padding: 0 41px;\n        span{\n          font-weight: bold;\n        }\n    }\n  }\n  /* 文章 */\n  /* 文章评论 */\n  .articleConsult{\n    width: 895px;\n    background-color: #fff;\n    margin-top: 20px;\n    .title{\n      height: 22px;\n      font-size: 18px;\n      font-weight: bold;\n      padding: 20px 40px;\n      background-color: #F0F7FF;\n    }\n    .content {\n      padding: 32px 40px;\n      textarea{\n        width: 771px;\n        height: 90px;\n        padding: 20px;\n        border: 1px solid #E3E4E5;\n        resize:none;\n        margin-bottom: 23px;\n      }\n    }\n    .consult{\n      padding: 0 41px;\n      .count{\n        font-size: 14px;\n        line-height: 30px;\n        color: #999;\n        border-bottom: 1px solid #E3E4E5;\n      }\n      .consultItem{\n        padding: 30px 0;\n        .avatar{\n          width: 56px;\n          height: 56px;\n          border-radius: 50%;\n        }\n        .info{\n          width: 730px;\n          font-size: 14px;\n          line-height: 30px;\n          color: #999;\n          margin-left: 27px;\n          .name{\n            color: #333;\n            font-weight: bold;\n            font-size: 16px;\n            .noPraise{\n              font-weight: normal;\n              span{\n                font-size: 20px;\n                position: relative;\n                top: 1px;\n              }\n              font-size: 14px;\n              color: #C8C9CC;\n              cursor: pointer;\n            }\n          }\n          .reply{\n            color: #808080;\n            padding: 9px 23px;\n            background-color: #F4F5FA;\n            margin-top: 9px;\n          }\n          .time{\n            margin-top: 9px;\n            .replyBtn{\n              color: #5389F7;\n              text-decoration: underline;\n              cursor: pointer;\n\n            }\n          }\n        }\n      }\n\n    }\n  }\n  /* 文章评论 */\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/consultDetail/consultDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"consultDetail\"},[_c('Search'),_vm._v(\" \"),_c('div',{staticClass:\"commonNav\"},[_c('div',{staticClass:\"wrapper\"},[_c('div',{staticClass:\"part\"},[_c('router-link',{attrs:{\"to\":\"/\"}},[_c('span',[_vm._v(\"首页\")]),_vm._v(\" \"),_c('i')]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":\"/list\"}},[_c('span',[_vm._v(\"找项目\")]),_vm._v(\" \"),_c('i')]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":\"/rankingList\"}},[_c('span',[_vm._v(\"排行榜\")]),_vm._v(\" \"),_c('i')]),_vm._v(\" \"),_c('router-link',{staticClass:\"active\",attrs:{\"to\":\"/news\"}},[_c('span',[_vm._v(\"行业资讯\")]),_vm._v(\" \"),_c('i')])],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"wrapper clearfix\"},[_c('div',{staticClass:\"crumbs\"},[_vm._v(\"您的位置：\"),_c('router-link',{attrs:{\"to\":\"/news\"}},[_vm._v(\"行业咨询\")]),_vm._v(\" > \"+_vm._s(_vm.data.type == 1 ? '加盟咨询': _vm.data.type== 2 ?'加盟攻略' : _vm.data.type == 0 ? '行业报告':''))],1),_vm._v(\" \"),_c('div',{staticClass:\"article fl\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.data.title))]),_vm._v(\" \"),_c('div',{staticClass:\"subhead between\"},[_c('div',[_vm._v(\"作者：\"+_vm._s(_vm.data.username)+\"    发布时间：\"+_vm._s(_vm.data.addtime)+\"    阅读量：\"+_vm._s(_vm.data.read_num))]),_vm._v(\" \"),_c('span',{staticClass:\"collectBtn\",class:{'collectActive':_vm.data.is_fow==1},on:{\"click\":_vm.addFollow}},[_c('i',{staticClass:\"iconfont icon-collect\"}),_vm._v(\" \"),(_vm.data.is_fow==1)?_c('b',[_vm._v(\"已收藏\")]):_c('b',[_vm._v(\"收藏\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"content\",domProps:{\"innerHTML\":_vm._s(_vm.data.detail)}}),_vm._v(\" \"),_c('div',{staticClass:\"footer \"},[_c('div',{staticClass:\"fl\"},[_c('span',[_vm._v(\"上一篇：\")]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":'/consultDetail?id='+_vm.data.prev.id}},[_vm._v(_vm._s(_vm.data.prev.title))])],1),_vm._v(\" \"),_c('div',{staticClass:\"fr\"},[_c('span',[_vm._v(\"下一篇：\")]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":'/consultDetail?id='+_vm.data.next.id}},[_vm._v(_vm._s(_vm.data.next.title))])],1)])]),_vm._v(\" \"),_c('HotConsult',{staticClass:\"fr\"})],1),_vm._v(\" \"),_c('div',{staticClass:\"wrapper\"},[_c('div',{staticClass:\"articleConsult \"},[_c('div',{staticClass:\"title\"},[_vm._v(\"\\n        文章评论\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.content),expression:\"content\"}],attrs:{\"cols\":\"30\",\"rows\":\"10\",\"placeholder\":\"请输入评论内容\"},domProps:{\"value\":(_vm.content)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.content=$event.target.value}}}),_vm._v(\" \"),_c('div',{staticClass:\" clearfix\"},[_c('el-button',{staticClass:\"fr\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addComment}},[_vm._v(\"提交评论\")])],1)]),_vm._v(\" \"),(_vm.commentList.length>0)?_c('div',{staticClass:\"consult\"},[_c('div',{staticClass:\"count\"},[_vm._v(\"\\n          共\"+_vm._s(_vm.commentList.length)+\"条评论\\n        \")]),_vm._v(\" \"),_vm._l((_vm.commentList),function(item,index){return _c('div',{staticClass:\"consultItem clearfix\"},[_c('img',{staticClass:\"avatar fl\",attrs:{\"src\":item.userAvatar,\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"info fl\"},[_c('div',{staticClass:\"name\"},[_vm._v(\"\\n              \"+_vm._s(item.username)+\"\\n              \"),_c('div',{staticClass:\"fr noPraise\",attrs:{\"data-id\":\"item.id\"},on:{\"click\":function($event){return _vm.addLike($event,item.id)}}},[_c('span',{staticClass:\"iconfont icon-praise\"}),_vm._v(\" \"+_vm._s(item.likes)+\"\\n              \")])]),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(item.content))]),_vm._v(\" \"),(item.comment.length>0)?_c('div',{staticClass:\"reply\"},_vm._l((item.comment),function(a,index){return _c('div',[_vm._v(_vm._s(a.username)+\"：\"+_vm._s(a.content))])}),0):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"time clearfix\"},[_c('span',{staticClass:\"fl\"},[_vm._v(_vm._s(item.time))])])])])})],2):_vm._e()])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4c92bc67\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/consultDetail/consultDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4c92bc67\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./consultDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./consultDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./consultDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4c92bc67\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./consultDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4c92bc67\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/consultDetail/consultDetail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}