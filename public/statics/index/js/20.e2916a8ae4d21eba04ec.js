webpackJsonp([20],{"48/O":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("Dd8w"),l=r.n(a),n=r("PxNw"),o=r("z+TU"),i=r("Zrlr"),s=r.n(i),m=r("wxAW"),c=r.n(m),g=r("0Mti"),d=new(function(){function e(){s()(this,e)}return c()(e,[{key:"submitForm",value:function(e){return g.a.get("/index/login/ent_resi",e)}}]),e}()),u={name:"personal",data:function(){return{labelPosition:"right",showCode:!0,outTime:60,imgCode:"",refs:{bname:[{required:!0,message:"请输入品牌名",trigger:"blur"}],cname:[{required:!0,message:"请输入公司名",trigger:"blur"}],name:[{required:!0,message:"请输入您的姓名",trigger:"blur"}],address:[{required:!0,message:"请输入公司注册地址",trigger:"blur"}],phone:[{required:!0,message:"请填写您的手机号",trigger:"blur"},{len:11,message:"手机号码格式不正确",trigger:"blur"}],img_code:[{required:!0,message:"请输入图片验证码",trigger:"blur"}],code:[{required:!0,message:"请输入手机验证码",trigger:"blur"}]},formLabelAlign:{name:"",cname:"",bname:"",address:"",phone:"",img_code:"",code:""}}},created:function(){this.getImgCode()},methods:{getImgCode:function(){var e=this;o.a.getImgCode().then(function(t){e.imgCode=t})},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e&&d.submitForm(l()({},t.formLabelAlign)).then(function(e){t.$alert("企业入驻信息提交成功，稍后平台会与您联系","",{confirmButtonText:"确定"}),t.$refs.form.resetFields()})})},getCode:function(){var e=this,t=this.formLabelAlign,r=t.phone,a=t.img_code,l=this;this.validatePhone(r)&&(a?o.a.getPhoneCode({phone:r,img_code:a}).then(function(t){e.showCode=!1;var r=setInterval(function(){0==l.outTime&&(l.showCode=!0,l.outTime=60,clearInterval(r)),l.outTime--},1e3);e.$message({message:"验证码发送成功",type:"success"})}):this.$message.error("请输入图片验证码"))},validatePhone:function(e){return e?11==e.length||(this.$message.error("手机号码格式不正确"),!1):(this.$message.error("请输入手机号码"),!1)}},components:{PersonalHeader:n.a}},f={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"personal"},[r("PersonalHeader"),e._v(" "),r("div",{staticClass:"greyBg"},[r("div",{staticClass:"enterBox"},[e._m(0),e._v(" "),r("div",{staticClass:"enterContent"},[r("el-form",{ref:"form",attrs:{rules:e.refs,"label-width":"80px",model:e.formLabelAlign}},[r("el-form-item",{attrs:{label:"品牌名",prop:"bname"}},[r("el-input",{attrs:{placeholder:"请输入品牌名"},model:{value:e.formLabelAlign.bname,callback:function(t){e.$set(e.formLabelAlign,"bname",t)},expression:"formLabelAlign.bname"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"公司名",prop:"cname"}},[r("el-input",{attrs:{placeholder:"请输入公司名"},model:{value:e.formLabelAlign.cname,callback:function(t){e.$set(e.formLabelAlign,"cname",t)},expression:"formLabelAlign.cname"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"姓名",prop:"name"}},[r("el-input",{attrs:{placeholder:"请输入您的姓名"},model:{value:e.formLabelAlign.name,callback:function(t){e.$set(e.formLabelAlign,"name",t)},expression:"formLabelAlign.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"注册地址",prop:"address"}},[r("el-input",{attrs:{placeholder:"请输入公司注册地址"},model:{value:e.formLabelAlign.address,callback:function(t){e.$set(e.formLabelAlign,"address",t)},expression:"formLabelAlign.address"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[r("el-input",{attrs:{placeholder:"请输入手机号码"},model:{value:e.formLabelAlign.phone,callback:function(t){e.$set(e.formLabelAlign,"phone",t)},expression:"formLabelAlign.phone"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"图片验证",prop:"img_code"}},[r("el-input",{attrs:{placeholder:"请输入图片验证码"},model:{value:e.formLabelAlign.img_code,callback:function(t){e.$set(e.formLabelAlign,"img_code",t)},expression:"formLabelAlign.img_code"}}),e._v(" "),r("img",{staticClass:"picYz",attrs:{src:e.imgCode},on:{click:e.getImgCode}})],1),e._v(" "),r("el-form-item",{attrs:{label:"验证码",prop:"code"}},[r("el-input",{attrs:{placeholder:"请输入手机验证码"},model:{value:e.formLabelAlign.code,callback:function(t){e.$set(e.formLabelAlign,"code",t)},expression:"formLabelAlign.code"}}),e._v(" "),e.showCode?r("span",{staticClass:"messageBtn",on:{click:e.getCode}},[e._v("获取验证码")]):r("span",{staticClass:"messageBtn"},[e._v(e._s(e.outTime)+"S后重新获取")])],1),e._v(" "),r("el-button",{staticClass:"submitBtn",attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("formLabelAlign")}}},[e._v("提交申请")])],1)],1)])])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title"},[t("h2",[this._v("企业入驻")])])}]};var b=r("VU/8")(u,f,!1,function(e){r("W5IE")},"data-v-4a47b2b8",null);t.default=b.exports},W5IE:function(e,t){}});
//# sourceMappingURL=20.e2916a8ae4d21eba04ec.js.map